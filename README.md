# jpa2odataV4

This project aims to provide an OdataV4 interface to an existing database. In order to do so
Apache Olingo framework is used.
In order to be more independent of the table structure the flow of building and running the code should be as follows ;

- src/main/resources/META-INF/openjpa-persistence.xml should be updated for the correct database
information. This file will be used to generate the data model pojos by openjpa reverse mapping
tool during build
- src/main/resources/META-INF/persistence.xml should also be updated for the correct database
information. This file will be used by hibernate as a model.
- Run <code>mvn clean exec:java install</code> to generate the model and build the war file
- Either run bin/start.sh to start application in docker tomcat8 container or place the war file
into a container
- http://localhost:8080/jpa-2-odataV4/OdataV4JPA.svc/ can be used to reach the service


Notes
=====
- Model data generation can also be done using hbm2java tool. Its related maven plugin and
dependecies are commented.
- Model generation has limitations, with openjpa tables w/o primary keys are not generated and
with hbm2java primary keys are autogenerated, however I have faced issue which needs manual fix
on the generated data.
- Olingo V4 does not support JPA out of the box, related dependencies should be built locally as a prerequisite
- Underlying DB should be changeable ideally as long as the correct drivers are used

Follow up
=========
- Model generation can be seperated to a different module so that main code will not need compile
for each new database
- A nice to have option is a way to trigger the process of deployment from model generation by
getting required input from user.
